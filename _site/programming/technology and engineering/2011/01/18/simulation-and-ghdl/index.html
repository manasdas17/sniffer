<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en-us">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <meta name="description" content="None worth writing.">
    <title>Simulation and ghdl</title>
    <meta name="author" content="Dilawar Singh" />
    <link rel="stylesheet" href="https://github.com/themes/minimal/stylesheets/styles.css">
 <style>
      header { zoom: 1.0; width: 150px}
      header h1 { margin-bottom: 5px; }
      header h1 a { color: #494949; font-weight: bold; }
      header h3 { margin-top: 20px; margin-bottom: 5px; }
      header p.view { margin-bottom: 5px; }
      header p.view small { padding-top: 2px; }
      header ul {
        zoom: 0.7;
        margin-top: 25px;
      }
      section { width: 600px }
      section p { margin-top: 10px; }
      section h1 { margin-bottom: 15px; }
      section h2 { margin-bottom: 10px; }
      section h2 { margin-bottom: 10px; }
      footer { bottom: 20px; }
      footer p { margin-bottom: 5px; }
      .half-width {
        float: left;
        width: 100px;
        list-style: none;
        padding: 5px;
        margin: 7px;
        margin-bottom: 10px;
      }
      .half-width h4 {
        margin-bottom: 5px;
      }
      .half-width ul {
        padding-left: 0;
      }
      .half-width ul li {
        list-style: inside;
        font-size: 15px;
      }
      .clear-fix {
        clear: both;
      }
    </style>
    <script src="https://github.com/themes/minimal/javascripts/scale.fix.js"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
</head>

<body>
    <div class="wrapper">
        <header>
        <h1><a href="/">Notes</a></h1>
        <p class="view"> <img src= "http://dilawar.github.io/images/pic_enhanced.jpg"
            alt="dilawar" height="150" width="150" /> </p>
        <p class="view"><a href="/projects/index.html">Open Source Projects <small>Might be useful to you</small></a></p>
        <p class="view"><a target="_blank"
            href="http://www.cen.iitb.ac.in/">Masters<small>Microelectronics and
                VLSI</small></a> 
        </p>
        <p class="view"><a target="_blank"
            href="http://www.ee.iitb.ac.in/~hpc">Ph. D.</a><small>Abandoned
            after 3 years</small>
        </p>
        <p class="view"><a target="_blank"
            href="http://www.ncbs.res.in/bhalla">Research Fellow <small>Moose,
                The Neural Simulator</small> </a> 
        </p>
        <p class="view"><a target="_blank"
            href="http://dilawarrajput.wordpress.com">Blog <small>This much I
                know</small></a> 
        </p>

        
        </header>

        <footer>
        </footer>

    <section id="post">
    <h1>Simulation and ghdl </h1>
<div class="content">
  <p><strong><code>To leave error unrefuted is to encourage intellectual immorality.</code></strong> Karl Marx.</p>

<p>quoted in 'The Poverty Of Theory' by E. P. Thompson. The only Western Historian who could think beyond the nations of Atlantis.</p>

<h2>Simulation</h2>

<p>An engineer should be able to not only correct an error but also locate them. Simulation is mostly used for these two puposes. Failure in detecting errors could be very costly. Later you detect it, costlier it gets. Intel has witnessed it once. It may be not a matter of life an death but surely it can throw a mid-size design house out of business. Big corporations can survive but it costs a lot. A minor  <a href="//en.wikipedia.org/wiki/Pentium_FDIV_bug">FDIV</a> bug in Intel Pentium processor cost $500 million.After you have implemented your design as per given 'specifications', first task is to test whether it is giving what was expected (verification). While designing, one might have taken clues from on one's common sense in addition to what one knows for sure. Simulation protect you from this common sense (or intuitions), same way mathematics protect natural sciences from common senses of humans which by the way hardly have anything in common 2. Studying social sciences is beset with ills. There is no protection from 'common sense'. No wonder, two economists seldom agree on anything.Simulation is a big part of today design activity and consumes about 60-80% time. In VHDL, you will create 'test benches'3 to test your design against certain set of test inputs. For all these possible inputs, if output satisfies given 'truth table' (or behavioral description) then the design is said to be correct. One should test his/design for all possible faults which is not possible for large enough input ports. One should catch error as early as possible for cost grows exponentially with design stages . If design is found faulty at later stages, you might loose your job (or get transfered if in government job). In any case, it will be a blot on your claim to be an engineer.Simulation's present is bright, future is surely bleak 4 . VLSI has grown up in size tremendously. A modern chip has many input combinations that one can possibly be tested in resonable amount of time even though computer run faster than Chacha Cahudhary's brain. To overcome this, what one generally does is to break a large design into smaller one and simulate smaller parts. Most of simulation is done for moderate size components like adder, multiplexer etc.There have been tremendous growth in the area of formal verification (you can google it if you like) but you can not do away with simulation, at least for next 6-7 decades. Reduced Binary decision diagrams (RBDD) and Kripke Structures are very prominent tools these days. In the past, using formal methods in practice seemed hopeless, only few crazy people stuck to them. Recently, industries are trying out formal verification like Z notation to document system properties more rigorously. Model checking and theorem proving (on certain structures) are being plugged in to complement more traditional one of simulation.</p>

<h2>Making a case for GHDL</h2>

<p>Since I am 'lobbying' for ghdl, it is understood that I am heavily baised and like electrons under bias my ideas will move in a certain direction (towards supporting ghdl ).Why ghdl? I can give two arguments, one is solely driven by my love for free softwares, second is put forward my Prof M. P. Desai in his lecture. Free softwares (as defined by <a href="http://www.gnu.org/philosophy/free-sw.html">Richard R. Stallman</a>) allow one to understand how a particular software works by providing you with its source code. That makes improvement as well as enhancement faster. This is the right way of making this planet 'smarter'. Another more effective way is by dumbing down the users by taking away their rights to know that they are using. Adding a fancy Graphical User Interface (GUI) may not necessarily translates into a better software. We all have experiences with Microsoft Word!Second, according to Prof Desai (quoting in spirit, not the exact words),</p>

<blockquote><p>I'll prefer giving 5 lacs more to someone who is an expert in free software rather than spending 10 lacs buying a license of a propriety softwares given that my job is done. Its like preferring a musician who is better trained with his instruments over someone who is backed by costly electronic gadgets.</p></blockquote>

<p>First argument is a truism given that one is suffering from the mental necessity 'to know' like http://www-cs-faculty.stanford.edu/ uno/Donald E. Knuth; second is also a truism if one works with (for) people who have the same vision. But most of the time, this is not the case. Only first rate mind appreciate first rate minds. N'th level mediocrity always support N+1'th level mediocrity. So it should not be surprising to note that most of the people prefer Madona over Pt. Ravishankar, Daniel Steele over R. K. Narayanan, T-Shirt over Kurta - I plead guilty (Albert Einstein would have looked more graceful in Kurta!) and 'some Indian Idol' over Indian Ocean. On same lines, Modelsim over ghdl (offense indented!). Bottom line is Your real skills (with free-softwares) may be grossly undervalued (in propriety softwares driven world). To survive in Industries, it is useful to have familiarity with 'standard' tools. Internet is flooded with articles about them.</p>

<h2>Installing GHDL inside IITB</h2>

<h3>Linux Users</h3>

<h3>Before using package managers such as synaptic, yast etc make sure proxy variables are set. On Ubuntu, synaptic is installed by default. Go to  , go to the   and set the proxy. Search  and mark for installation. If you prefer using  utility from command line then make sure to put proxy information in  file. For example, if my user-name is  and password is   then my file will look like this.</h3>

<blockquote><p> Acquire::http::proxy "http://prof_chaos:khooni_darinda@netmon.iitb.ac.in:80/"; Acquire::ftp::proxy "http://prof_chaos:khooni_darinda@netmon.iitb.ac.in:80/"; Acquire::https::proxy "http://prof_chaos:khooni_darinda@netmon.iitb.ac.in:80/";<span style="font-family:Georgia, 'Times New Roman', 'Bitstream Charter', Times, serif;line-height:19px;white-space:normal;font-size:13px;"></span></p></blockquote>

<pre><code>&lt;span style="font-family:Georgia, 'Times New Roman', 'Bitstream Charter', Times, serif;line-height:19px;white-space:normal;font-size:13px;"&gt;For other linux distribution, please google about it. If you are new to linux, you may not be able to get things right for first few hours. That suppose to happen, but don't let it put you off.&lt;/span&gt;
</code></pre>

<h3>Windows user</h3>

<p>Guys! Learn linux if you have not started learning it. As someone has said, ``We learn to live in the world of linux where there is no Gates or Windows''. . For Modelsim student edition, you have to use windows as expected. In VLSI lab, it is installed on linux and can be invoked by  command from terminal. Modelsim tutorial is given on its website.</p>

<h2>Text Editor</h2>

<p><strong>ghdl</strong> now have an inbuilt text editor but it may not be available on vlsi lab. You have to use  or .  is the most advanced and simple (as a rule of thumb, takes quite a lot of practice to learn) text editor.  is also a good editor. Spend some time with vim every week. You can curse me while learning but you will surely thank me after a year.  is like a light saber, it is only effective in the hand of a 'Jedi Knight'. First timer can not do anything significant with it.  has a lot of tutorial and free books available on its website.</p>

<h2>Coding</h2>

<p>Get into habit of commenting your code properly. Not only because it will be readable by others but also you can remember what you have done a week ago. <a href="http://www.literateprogramming.com">Literate Programming</a> is a school of thought which deals with readability of codes. Writing readable codes not only recommended but also mandatory these days. When a team of many people works on a single project, non-readability consume much more time then it saves.You make also like to read about subversion (or git). Its a 'version control system' which keeps track of what you have done in the past. You can easily recover any past version of your file. You can use google-code to make your svn repository or can set up your own local repository on your personal machine. There are many <a href="http://civicactions.com/blog/2010/may/25/how_set_svn_repository_7_simple_%20steps">blogs</a> written about how to do it.</p>

<h2>Few words of wisdom</h2>

<p><a href="http://dilawarnotes.files.wordpress.com/2011/01/ch940127.png"><img src="http://dilawarnotes.files.wordpress.com/2011/01/ch940127.png" alt="" /></a></p>

<h3>About this document ...</h3>

<p>Notes on GHDL and Simulation 1Prepared for EE 705 (VLSI design lab) taken by Prof. Dinesh K. Sharma</p>

<h1>Footnotes</h1>

<p>... Simulation1These notes have nothing to do with your course content. Usual disclaimer of 'I am not responsible for any damages caused etc. etc' applies.... common2As far as common sense is concerned, it make sense asking whether an electron is a wave or a particle. For mathematics, this question in itself is absurd. An electron is what its equation implies, nothing less, yet could be more than that.... benches'3While using ghdl you have to write test bench in vhdl only, in Modelsim you have another option called do files... bleak4I'm Done Simulating; Now What? Verification Coverage Analysis and Correctness Checking of the DECchip 21164 Alpha microprocessor; Michael Kantrowitz, Lisa M. Noack;<a href="http://ieeexplore.ieee.org/iel3/3826/11178/00545595.pdf?arnumber=545595"> http://ieeexplore.ieee.org/iel3/3826/11178/00545595.pdf?arnumber=545595</a></p>

</div>

<div id="related">
  <h2>Related Posts</h2>
  <ul class="posts">
    
      <li> <a href="/numerical%20computation/2014/01/30/Coding-With-Floats/">Coding with float</a></li>
    
      <li> <a href="/noguinomousenoproblem/2014/01/29/Using-mutt/">Using mutt, saving password and writing mail in markdown</a></li>
    
      <li> <a href="/[%22tutorial%22,%20%22literate%20programming%22]/2013/10/30/Python-frontend-for-noweb/">Python front-end for Noweb literate tool</a></li>
    
  </ul>
</div>

<script type="text/javascript"
    src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
    </script>

<!-- Google analytic -->
<script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
            (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-47774588-1', 'dilawar.github.io');
    ga('send', 'pageview');
</script>

<div id="comment">
  
  <div id="disqus_thread"></div>
  <script type="text/javascript">
    /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
  var disqus_shortname = 'dilawarblog'; // required: replace example with your forum shortname

  /* * * DON'T EDIT BELOW THIS LINE * * */
  (function() {
   var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
   dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
   (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
   })();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>

</div>



    </section>

    <!-- Latex in post -->
    <script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <!-- Google analytic -->
    <script>
        (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
                (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
            m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

        ga('create', 'UA-47774588-1', 'dilawar.github.io');
        ga('send', 'pageview');
    </script>
</body>
</html>
