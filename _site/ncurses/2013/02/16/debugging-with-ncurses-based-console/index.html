<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en-us">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <meta name="description" content="None worth writing.">
    <title>Debugging : A case for ncurses-based console </title>
    <meta name="author" content="Dilawar Singh" />
    <link rel="stylesheet" href="https://github.com/themes/minimal/stylesheets/styles.css">
 <style>
      header { zoom: 1.0; width: 150px}
      header h1 { margin-bottom: 5px; }
      header h1 a { color: #494949; font-weight: bold; }
      header h3 { margin-top: 20px; margin-bottom: 5px; }
      header p.view { margin-bottom: 5px; }
      header p.view small { padding-top: 2px; }
      header ul {
        zoom: 0.7;
        margin-top: 25px;
      }
      section { width: 600px }
      section p { margin-top: 10px; }
      section h1 { margin-bottom: 15px; }
      section h2 { margin-bottom: 10px; }
      section h2 { margin-bottom: 10px; }
      footer { bottom: 20px; }
      footer p { margin-bottom: 5px; }
      .half-width {
        float: left;
        width: 100px;
        list-style: none;
        padding: 5px;
        margin: 7px;
        margin-bottom: 10px;
      }
      .half-width h4 {
        margin-bottom: 5px;
      }
      .half-width ul {
        padding-left: 0;
      }
      .half-width ul li {
        list-style: inside;
        font-size: 15px;
      }
      .clear-fix {
        clear: both;
      }
    </style>
    <script src="https://github.com/themes/minimal/javascripts/scale.fix.js"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
</head>

<body>
    <div class="wrapper">
        <header>
        <h1><a href="/">Notes</a></h1>
        <p class="view"> <img src= "http://dilawar.github.io/images/pic_enhanced.jpg"
            alt="dilawar" height="150" width="150" /> </p>
        <p class="view"><a href="/projects/index.html">Open Source Projects <small>Might be useful to you</small></a></p>
        <p class="view"><a target="_blank"
            href="http://www.cen.iitb.ac.in/">Masters<small>Microelectronics and
                VLSI</small></a> 
        </p>
        <p class="view"><a target="_blank"
            href="http://www.ee.iitb.ac.in/~hpc">Ph. D.</a><small>Abandoned
            after 3 years</small>
        </p>
        <p class="view"><a target="_blank"
            href="http://www.ncbs.res.in/bhalla">Research Fellow <small>Moose,
                The Neural Simulator</small> </a> 
        </p>
        <p class="view"><a target="_blank"
            href="http://dilawarrajput.wordpress.com">Blog <small>This much I
                know</small></a> 
        </p>

        
        </header>

        <footer>
        </footer>

    <section id="post">
    <h1>Debugging : A case for ncurses-based console  </h1>
<div class="content">
  <p>Where would you log your debug messages when you are designing an algorithm?</p>

<p>I tried various things. Used various libraries (apache's log4cxx is very powerful) for logging and even used database (<a href="http://sqlite.org">sqlite3</a> is my all time favorite for this) to store all data as well as debug messages. Problem with sqlite3 is that one has to type a lot but it is a very worthy investment if one needs to process a great deal of data later. Of course, one can write test-routines in the code itself and later disable them altogether once application is tested. This seems to be a standard practise. But many times one has to look at the data by oneself and in such cases logging is essential.</p>

<p>One must follow a standard format while writing logging messages. Readability is of great importance. What is the use of message which are hard to read. Prettyprinting requires work and often increases the size of code. But one has to do it, there is no escape. Apache logging framework format is pretty good. One can even write logs to XML file. Beware that XML is not easy to read by humans. Computers, on the other hand, can process xml easily. If logs are too big, I'd suggest go for either XML files or sqlite3 database. SOCI's soci library is a good library in C++ for sqlite3.</p>

<p>For medium or small debugging, writing to simple text files or console is good enough. And one usually design his algorithm in steps. Therefore one can concentrate logs generated by a section of program. In C++, compiler macros are very useful. For example, if I am testing functionA, then I write its debug messages between #ifdef DEBUG_FUNA #endif and let the compiler know if I wants to activate or not.</p>

<p>I wish to suggest something more. If you are a big fan of terminal (no gui, no mouse, no problem) and have a look at <a href="http://www.gnu.org/software/ncurses/ncurses.html">ncurses</a> library. It creates a <a href="http://en.wikipedia.org/wiki/Text-based_user_interface">text based user interface</a> and I have used it in two applications. To cut the long story short, let me show you the screen-shot of how ncurses based screen can be split into many section in which different section can be used for different type of log messages.</p>

<p><a href="http://dilawarnotes.files.wordpress.com/2013/02/2013-02-17-033243_1366x768_scrot.png"><img src="http://dilawarnotes.files.wordpress.com/2013/02/2013-02-17-033243_1366x768_scrot.png" alt="2013-02-17-033243_1366x768_scrot" /></a></p>

<p>Even this is lame. Let me show you a video. First few seconds to this video will show you the blindness caused by naive logging on the console. Then we'll see the power of ncurses. You'll see two matrices, we wish the left one must have rows which has only single 1. If this is achieved, our algorithm is correct.</p>

<p>https://www.facebook.com/video/video.php?v=109918892526120&amp;saved</p>

<h6>Related articles</h6>

<ul>
<li><a href="http://dilawarnotes.wordpress.com/2013/01/20/processing-xml-files/">Processing XML files</a> (dilawarnotes.wordpress.com)</li>
</ul>


</div>

<div id="related">
  <h2>Related Posts</h2>
  <ul class="posts">
    
      <li> <a href="/numerical%20computation/2014/01/30/Coding-With-Floats/">Coding with float</a></li>
    
      <li> <a href="/noguinomousenoproblem/2014/01/29/Using-mutt/">Using mutt, saving password and writing mail in markdown</a></li>
    
      <li> <a href="/[%22tutorial%22,%20%22literate%20programming%22]/2013/10/30/Python-frontend-for-noweb/">Python front-end for Noweb literate tool</a></li>
    
  </ul>
</div>

<script type="text/javascript"
    src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
    </script>

<!-- Google analytic -->
<script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
            (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-47774588-1', 'dilawar.github.io');
    ga('send', 'pageview');
</script>

<div id="comment">
  
  <div id="disqus_thread"></div>
  <script type="text/javascript">
    /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
  var disqus_shortname = 'dilawarblog'; // required: replace example with your forum shortname

  /* * * DON'T EDIT BELOW THIS LINE * * */
  (function() {
   var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
   dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
   (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
   })();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>

</div>



    </section>

    <!-- Latex in post -->
    <script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <!-- Google analytic -->
    <script>
        (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
                (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
            m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

        ga('create', 'UA-47774588-1', 'dilawar.github.io');
        ga('send', 'pageview');
    </script>
</body>
</html>
